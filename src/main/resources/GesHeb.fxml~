<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="580.0" prefWidth="1032.0" stylesheets="style1.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.GesHeb">
    <children>
        <!-- Barre latérale -->
        <VBox fx:id="Vbar" prefHeight="582.0" prefWidth="202.0" spacing="8.0">
            <children>
                <AnchorPane prefHeight="184.0" prefWidth="202.0">
                    <children>
                        <ImageView fitHeight="126.0" fitWidth="154.0" layoutX="24.0" layoutY="26.0" pickOnBounds="true" preserveRatio="true">
                            <image>
                                <Image url="@/logo2.png" />
                            </image>
                        </ImageView>
                    </children>
                </AnchorPane>
                <!-- Liens de navigation -->
                <Label prefHeight="30.0" prefWidth="200.0" styleClass="hover-element" text="Gestion utilisateurs" textFill="WHITE" VBox.vgrow="ALWAYS">
                    <VBox.margin>
                        <Insets left="20.0" />
                    </VBox.margin>
                    <graphic>
                        <Label text="👤  " textFill="WHITE">
                            <font>
                                <Font size="20.0" />
                            </font>
                        </Label>
                    </graphic>
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Label>
                <Label prefHeight="30.0" prefWidth="200.0" styleClass="hover-element" text="Gestion reservations" textFill="WHITE" VBox.vgrow="ALWAYS">
                    <VBox.margin>
                        <Insets left="20.0" />
                    </VBox.margin>
                    <graphic>
                        <Label text="📅  " textFill="WHITE">
                            <font>
                                <Font size="20.0" />
                            </font>
                        </Label>
                    </graphic>
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Label>
                <Label prefHeight="30.0" prefWidth="200.0" styleClass="hover-element" text="Gestion hebergement" textFill="WHITE" VBox.vgrow="ALWAYS">
                    <VBox.margin>
                        <Insets left="20.0" />
                    </VBox.margin>
                    <graphic>
                        <Label text="🏨" textFill="WHITE">
                            <font>
                                <Font size="20.0" />
                            </font>
                        </Label>
                    </graphic>
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Label>
                <Label prefHeight="30.0" prefWidth="200.0" styleClass="hover-element" text="Gestion transport" textFill="WHITE" VBox.vgrow="ALWAYS">
                    <VBox.margin>
                        <Insets left="20.0" />
                    </VBox.margin>
                    <graphic>
                        <Label text="🚗  " textFill="WHITE">
                            <font>
                                <Font size="20.0" />
                            </font>
                        </Label>
                    </graphic>
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Label>
                <Label prefHeight="30.0" prefWidth="200.0" styleClass="hover-element" text="Gestion planning" textFill="WHITE" VBox.vgrow="ALWAYS">
                    <VBox.margin>
                        <Insets left="20.0" />
                    </VBox.margin>
                    <graphic>
                        <Label text="📋  " textFill="WHITE">
                            <font>
                                <Font size="20.0" />
                            </font>
                        </Label>
                    </graphic>
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Label>
                <Label prefHeight="45.0" prefWidth="182.0" styleClass="hover-element" text="Gestion accompagnement" textFill="WHITE" wrapText="true" VBox.vgrow="ALWAYS">
                    <VBox.margin>
                        <Insets left="20.0" />
                    </VBox.margin>
                    <graphic>
                        <Label text="👬" textFill="WHITE">
                            <font>
                                <Font size="24.0" />
                            </font>
                        </Label>
                    </graphic>
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Label>
                <Label prefHeight="30.0" prefWidth="200.0" styleClass="hover-element" text="Gestion cliniques" textFill="WHITE" VBox.vgrow="ALWAYS">
                    <VBox.margin>
                        <Insets left="20.0" />
                    </VBox.margin>
                    <graphic>
                        <Label text="🏥  " textFill="WHITE">
                            <font>
                                <Font size="20.0" />
                            </font>
                        </Label>
                    </graphic>
                    <font>
                        <Font name="System Bold" size="12.0" />
                    </font>
                </Label>
            </children>
        </VBox>
        <!-- Zone principale -->
        <VBox layoutX="201.0" layoutY="1.0" prefHeight="581.0" prefWidth="832.0" AnchorPane.topAnchor="0.0">
            <children>
                <!-- Barre de recherche -->
                <AnchorPane fx:id="Hbar" prefHeight="59.0" prefWidth="832.0">
                    <children>
                        <TextField fx:id="search_input" layoutX="12.0" layoutY="17.0" prefHeight="31.0" prefWidth="286.0" style="-fx-font-size: 11; -fx-background-color: transparent; -fx-border-color: #e6f0ff transparent  #e6f0ff  #e6f0ff; -fx-border-radius: 13 0 0 13; -fx-background-radius: 13 0 0 13; -fx-border-width: 2;">
                            <font>
                                <Font name="System Bold" size="12.0" />
                            </font>
                        </TextField>
                        <Button fx:id="search_button" layoutX="327.0" layoutY="17.0" mnemonicParsing="false" prefHeight="31.0" prefWidth="36.0" style="-fx-background-color: transparent; -fx-border-color: #e6f0ff  #e6f0ff  #e6f0ff transparent; -fx-border-radius: 0 13 13 0; -fx-background-radius: 0 13 13 0; -fx-border-width: 2;" text="🔍" textFill="WHITE">
                            <font>
                                <Font name="System Bold" size="13.0" />
                            </font>
                        </Button>
                        <Button fx:id="cancel_search" layoutX="297.0" layoutY="17.0" mnemonicParsing="false" prefHeight="31.0" prefWidth="36.0" style="-fx-background-color: transparent; -fx-border-color: #e6f0ff transparent #e6f0ff transparent; -fx-border-width: 2;" text="❌" textFill="WHITE">
                            <font>
                                <Font name="System Bold" size="13.0" />
                            </font>
                        </Button>
                        <ImageView fitHeight="33.0" fitWidth="28.0" layoutX="767.0" layoutY="11.0" pickOnBounds="true" preserveRatio="true">
                            <image>
                                <Image url="@/avatar.png" />
                            </image>
                        </ImageView>
                    </children>
                </AnchorPane>

                <!-- Zone du tableau -->
                <AnchorPane prefHeight="523.0" prefWidth="832.0" style="-fx-background-color: #cee1ff;">
                    <children>
                        <TableView fx:id="tabview" layoutX="16.0" layoutY="53.0" prefHeight="448.0" prefWidth="757.0">
                            <columns>
                                <TableColumn fx:id="colId" prefWidth="50" text="ID" />
                                <TableColumn fx:id="colNom" prefWidth="100" text="Nom" />
                                <TableColumn fx:id="colAdresse" prefWidth="100" text="Adresse" />
                                <TableColumn fx:id="colTelephone" prefWidth="80" text="Téléphone" />
                                <TableColumn fx:id="colEmail" prefWidth="100" text="Email" />
                                <TableColumn fx:id="colCapacite" prefWidth="100" text="Capacité" />
                                <TableColumn fx:id="colTarifNuit" prefWidth="90" text="Tarif Nuit" />
                                <TableColumn fx:id="colActions" prefWidth="100" text="Actions" />
                            </columns>
                        </TableView>
                        <!-- Bouton d'action "ajouter" reste ici -->
                        <Button fx:id="add" layoutX="48.0" layoutY="14.0" mnemonicParsing="false" prefHeight="33.0" prefWidth="36.0" style="-fx-background-color: #002966; -fx-background-radius: 60; -fx-border-radius: 60;" text="➕" textAlignment="CENTER" textFill="WHITE">
                            <font>
                                <Font name="System Bold" size="15.0" />
                            </font>
                        </Button>

                    </children>
                </AnchorPane>
            </children>
        </VBox>
        <VBox fx:id="sidePanel" alignment="CENTER_LEFT" layoutY="56.8" prefHeight="523.0" prefWidth="300" spacing="15" style="-fx-background-color: #cee1ff; -fx-padding: 20; -fx-border-radius: 10; -fx-border-color: #002966;" AnchorPane.bottomAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="57.0">
            <!-- Hebergement Form -->
            <Label text="Nom de l'hébergement" />
            <TextField fx:id="nomField" prefWidth="250" promptText="Nom de l'hébergement" />

            <Label text="Adresse" />
            <TextField fx:id="adresseField" prefWidth="250" promptText="Adresse" />

            <Label text="Téléphone" />
            <TextField fx:id="telephoneField" prefWidth="250" promptText="Numéro de téléphone" />

            <Label text="Email" />
            <TextField fx:id="emailField" prefWidth="250" promptText="Email" />

            <Label text="Capacité" />
            <TextField fx:id="capaciteField" prefWidth="250" promptText="Ex: 100" />

            <Label text="Tarif Nuit" />
            <TextField fx:id="tarifNuitField" prefWidth="250" promptText="Ex: 100" />
            <Label text="Upload Image" />
            <Button fx:id="uploadImageButton" onAction="#handleImageUpload" prefWidth="250" style="-fx-background-color: #002066; -fx-text-fill: white;" text="Upload Image" />
            <ImageView fx:id="imageView" fitHeight="150.0" fitWidth="250.0" layoutX="25.0" layoutY="250.0" pickOnBounds="true" preserveRatio="true" />
            <!-- Submit Button -->
            <Button fx:id="submitAddButton" onAction="#addHebergement" prefWidth="250" style="-fx-background-color: #002066; -fx-text-fill: white;" text="Ajouter" />

            <!-- Close Button (optional) -->
            <Button onAction="#closeSidePanel" prefWidth="250" style="-fx-background-color: #FF6F61; -fx-text-fill: white;" text="Fermer" />
        </VBox>
    </children>
</AnchorPane>
